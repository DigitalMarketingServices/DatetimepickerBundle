{% block form_javascript %}
{% spaceless %}
    {% for child in form %}
        {{ form_javascript(child) }}
    {% endfor %}
{% endspaceless %}
{% endblock form_javascript %}

{% block field_javascript "" %}

{% block button_javascript "" %}

{% block genemu_captcha_javascript %}
{% spaceless %}
    <!--[if lte IE 7]>
<script type="text/javascript">
$(function () {
var pathBase64 = "{{ path('genemu_base64')}}";

$(document.images).each(function(){
var src = $(this).attr("src");
if (/^data:.*;base64/i.test(src)) {
src = src.slice(5);
$(this).attr("src",pathBase64+"?"+src);
}
});
});
</script>
<![endif]-->
{% endspaceless %}
{% endblock genemu_captcha_javascript %}


{% block collot_datetime_javascript %}
{% spaceless %}

    <script type="text/javascript">
        jQuery(document).ready(function($) {
            $field = $('#{% if widget != "single_text" %}datepicker_{% endif %}{{ id }}');
        
        {% block collot_datetime_javascript_prototype %}

        {% if configs.buttonImage is defined %}
            {% set configs = configs|merge({
                "buttonImage": asset(configs.buttonImage)
            }) %}
        {% endif %}

        {% if culture == "en" %}
            {% set culture = "en-GB" %}
        {% endif %}

            var $configs = $.extend({
                minDate: new Date({{ min_year }}, 0, 1),
                maxDate: new Date({{ max_year }}, 11, 31)
            }, $.datepicker.regional['{{ culture }}'] ,{{ configs|json_encode|raw }});

        {% if widget != "single_text" %}
            var $year = $('#{{ form.year.vars.id }}');
            var $month = $('#{{ form.month.vars.id }}');
            var $day = $('#{{ form.day.vars.id }}');

            $configs.onSelect = function(date) {
                $year.val(parseInt(date.substring(0, 4), 10));
                $month.val(parseInt(date.substring(5, 7), 10));
                $day.val(parseInt(date.substring(8), 10));
            }
        {% endif %}

            $field.datepicker($configs);
        {% endblock %}
        });
    </script>
{% endspaceless %}
{% endblock %}
